@page "/joinsession"
@page "/joinsession/{Id}"

@inject NavigationManager navManager;

<h1>Join Session</h1>

<p>Enter a join code below to join your session.</p>

<EditForm class="col-md-6" Model="@model" OnValidSubmit="@HandleJoin">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <p>Name <InputText class="form-control" @bind-Value="model.Name" /></p>
    <p>Session ID <InputText class="form-control" @bind-Value="model.SessionId" /></p>
    <button class="btn btn-primary" type="submit">Join</button>
</EditForm>

@code {
    [Parameter]
    public string Id { get => model.SessionId; set => model.SessionId = value; }

    private JoinSessionModel model = new();

    private void HandleJoin()
    {
        navManager.NavigateTo($"session/{model.SessionId}/{model.Name}");
    }
}
